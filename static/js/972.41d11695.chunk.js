"use strict";(self.webpackChunkxmplr_testbed=self.webpackChunkxmplr_testbed||[]).push([[972],{972:(e,t,l)=>{l.r(t),l.d(t,{default:()=>E});var r=l(579);const s=()=>(0,r.jsx)("header",{className:"sticky top-0 left-0 z-50 flex items-center w-full h-16 px-4 text-white bg-orange-400/80 backdrop-blur-sm",children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Exemplar"})});var n=l(43),a=l(749),c=l(248),i=l(97);const o=l(213).A.create({baseURL:"http://localhost:8000"});const d=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ai:{getAll:"api/ai",getOneById:e=>`api/ai/${e}`,createOne:"api/ai/"},tutor:{getAll:"api/tutor",getOneById:e=>`api/tutor/${e}`,createOne:"api/tutor/"}};this.api=e,this.controller=t}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",l=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{const{data:s}=await this.api({url:e,method:t,data:l,params:r});return s}catch(s){throw console.error(s),new Error(s)}}};const u=new class extends d{constructor(){super()}async getAll(){return await this.request(this.controller.ai.getAll)}async createOne(e){return await this.request(this.controller.ai.createOne,"post",e)}},m={getAll:["ai"]},x={getAll:()=>({queryKey:m.getAll,queryFn:()=>u.getAll()}),createOne:()=>({mutationFn:e=>u.createOne(e)})};function b(){return(0,a.U)(x.getAll())}var h=l(632),p=l(766);const g=e=>{let{children:t,type:l="button",color:s="white",onClick:a=()=>{},onSubmit:c=()=>{}}=e;const i=(0,n.useMemo)((()=>"blue"===s?"text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2":"red"===s?"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2":"py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700"),[s]);return(0,r.jsx)("button",{className:i,type:l,onClick:a,onSubmit:e=>c(e),children:t})},f=e=>{let{}=e;const{setModal:t,modal:l}=(0,p.A)(),{mutate:s,isSuccess:a}=function(){const e=(0,c.jE)();return(0,i.n)({...x.createOne(),onSuccess:()=>{e.invalidateQueries({queryKey:m.getAll})}})}();return(0,n.useEffect)((()=>{a&&t({...l,isOpen:!1})}),[a]),(0,r.jsxs)("form",{className:"flex flex-col w-full gap-2",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget),l=Object.fromEntries(t.entries()),r={name:l.name,description:l.desc};s(r)},children:[(0,r.jsxs)("label",{htmlFor:"name",children:[(0,r.jsx)("p",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Name"}),(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",name:"name",id:"name",type:"text",required:!0})]}),(0,r.jsxs)("label",{htmlFor:"desc",children:[(0,r.jsx)("p",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Description"}),(0,r.jsx)("textarea",{rows:5,id:"desc",name:"desc",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center w-full mt-4",children:[(0,r.jsx)(g,{type:"submit",children:"SAVE"}),(0,r.jsx)(g,{color:"red",onClick:()=>t({...l,isOpen:!1}),children:"CANCEL"})]})]})},j=()=>{const{setModal:e}=(0,p.A)(),{data:t}=b();return(0,r.jsxs)("ul",{children:[t.map((e=>(0,r.jsx)("li",{className:"text-lg font-bold cursor-pointer",children:e.name},`ai-${e.id}-${e.name}`))),(0,r.jsx)("li",{className:"text-lg font-bold cursor-pointer",onClick:()=>{e({isOpen:!0,title:"Add AI",component:(0,r.jsx)(f,{})})},children:"+"})]})},y=()=>(0,r.jsx)("nav",{className:"sticky top-16 left-0 w-[30%] h-[calc(100dvh-4rem)] bg-gray-200 pl-3 py-2",children:(0,r.jsx)(h.tH,{fallback:(0,r.jsx)("div",{children:"error"}),children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"...Loading"}),children:(0,r.jsx)(j,{})})})});const w=new class extends d{constructor(){super()}async getAll(){return await this.request(this.controller.tutor.getAll)}async createOne(e){return await this.request(this.controller.tutor.createOne,"post",e)}},N={getAll:["tutor"]},v={getAll:()=>({queryKey:N.getAll,queryFn:()=>w.getAll()}),createOne:()=>({mutationFn:e=>w.createOne(e)})};const A=e=>{let{id:t,ai_id:l,name:s,description:n}=e;return(0,r.jsxs)("div",{className:"flex w-full gap-2",children:[(0,r.jsx)("div",{className:"h-40 rounded-sm w-36 bg-zinc-500"}),(0,r.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,r.jsx)("p",{children:s}),(0,r.jsx)("p",{children:n})]})]})},k=()=>{const{data:e}=b();return(0,r.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"ai",children:["AI",(0,r.jsxs)("select",{id:"ai",name:"ai",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",defaultValue:"default",required:!0,children:[(0,r.jsx)("option",{value:"default",disabled:!0,children:"Choose an AI"}),e.map((e=>(0,r.jsx)("option",{value:e.id,children:e.name},`option-${e.id}`)))]})]})},O=e=>{let{}=e;const{mutate:t,isSuccess:l}=function(){const e=(0,c.jE)();return(0,i.n)({...v.createOne(),onSuccess:()=>{e.invalidateQueries({queryKey:v.getAll().queryKey})}})}(),{setModal:s,modal:a}=(0,p.A)();return(0,n.useEffect)((()=>{l&&s({...a,isOpen:!1})}),[l]),(0,r.jsxs)("form",{className:"flex flex-col w-full gap-2",onSubmit:e=>{e.preventDefault();const l=new FormData(e.currentTarget),r=Object.fromEntries(l.entries());console.log(r);const s={name:r.name,ai:parseInt(r.ai),description:r.desc};t(s)},children:[(0,r.jsxs)("label",{htmlFor:"name",children:[(0,r.jsx)("p",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Name"}),(0,r.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",name:"name",id:"name",type:"text",required:!0})]}),(0,r.jsx)(n.Suspense,{children:(0,r.jsx)(k,{})}),(0,r.jsxs)("label",{htmlFor:"desc",children:[(0,r.jsx)("p",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Description"}),(0,r.jsx)("textarea",{rows:5,name:"desc",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center w-full mt-4",children:[(0,r.jsx)(g,{type:"submit",children:"SAVE"}),(0,r.jsx)(g,{onClick:()=>s({...a,isOpen:!1}),color:"red",children:"CANCEL"})]})]})},q=()=>{const{data:e}=(0,a.U)(v.getAll()),{setModal:t}=(0,p.A)();return(0,r.jsxs)("div",{className:"flex flex-col items-center w-full h-full gap-3",children:[e.map((e=>(0,r.jsx)(A,{ai_id:e.ai_id,id:e.id,name:e.name,description:e.description},`tutor-${e.id}-${e.name}`))),(0,r.jsx)("button",{className:"flex px-3 py-3 font-bold border rounded-full shadow-md",type:"button",onClick:()=>{t({isOpen:!0,title:"Add Tutor",component:(0,r.jsx)(O,{})})},children:"ADD"})]})},C=()=>(0,r.jsx)("section",{className:"w-full h-full py-4",children:(0,r.jsx)(h.tH,{fallback:(0,r.jsx)("div",{children:"error"}),children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"...Loading"}),children:(0,r.jsx)(q,{})})})}),S=()=>{const[e,t]=(0,n.useState)("Me");return(0,r.jsxs)("section",{className:"w-[70%] px-4 text-black pt-4 relative overflow-y-scroll",children:[(0,r.jsxs)("div",{className:"sticky top-0 flex items-center justify-center w-full gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>t("Me"),className:""+("Me"===e?"text-blue-500":"text-neutral-500"),children:"Me"}),(0,r.jsx)("button",{type:"button",onClick:()=>t("Public"),className:""+("Public"===e?"text-blue-500":"text-neutral-500"),children:"Public"})]}),(0,r.jsx)("div",{className:"w-full",children:"Public"===e?(0,r.jsx)(C,{}):null})]})},E=()=>(0,r.jsxs)("main",{className:"min-w-full text-black h-dvh",children:[(0,r.jsx)(s,{}),(0,r.jsxs)("div",{className:"flex w-full",children:[(0,r.jsx)(y,{}),(0,r.jsx)(S,{})]})]})}}]);
//# sourceMappingURL=972.41d11695.chunk.js.map